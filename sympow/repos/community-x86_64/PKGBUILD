# $Id$
# Maintainer: Antonio Rojas <arojas@archlinux.org>

pkgname=sympow
pkgver=2.023.3
pkgrel=1
pkgdesc="A a package to compute special values of symmetric power elliptic curve L-functions"
arch=(x86_64)
url="http://www.sagemath.org"
license=(GPL)
depends=(pari)
makedepends=(help2man)
source=("https://gitlab.com/rezozer/forks/sympow/-/archive/v$pkgver/sympow-v$pkgver.tar.gz")
sha256sums=('e23ba51327386647954b660737ff8ea54bac84395627665efcd1fc26171d1a29')

prepare() {
  cd $pkgname-v$pkgver
  sed -e 's|VERBOSE_DEFAULT 1|VERBOSE_DEFAULT 0|' -i sympow.h
}

build() {
  cd $pkgname-v$pkgver

  PREFIX=/usr ./Configure
  make
}

package() {
  cd $pkgname-v$pkgver

  make DESTDIR="$pkgdir" install
}
