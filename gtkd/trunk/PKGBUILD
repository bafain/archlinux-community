# $Id$
# Maintainer: Dan Printzell <arch@vild.io>
# Contributor: Severen Redwood <severen@shrike.me>
# Contributor: Robert Welin <robert.welin@gmail.com>
# Contributorr: dsboger <https://github.com/dsboger>

pkgname='gtkd'
pkgver='3.8.3'
pkgrel=3
pkgdesc='D bindings for GTK+ and related libraries.'
arch=('x86_64')
url='http://gtkd.org/'
license=('LGPL')
depends=('liblphobos' 'gtk3')
makedepends=('ldc')
optdepends=('pango' 'atk' 'gdk-pixbuf2' 'gtksourceview3' 'gstreamer' 'vte3' 'libpeas')
source=("https://github.com/gtkd-developers/GtkD/archive/v${pkgver}.tar.gz")
sha512sums=('d966b69ee7cc18f17d01fef2805ba2af094d219fa3eece0e5bb50eae60bd73a0603c3c695011f3aa174dbf5e7a6fac85f91f78aed4922b7429edc0e86b78f22d')

build() {
    cd ${srcdir}/GtkD-${pkgver}

    make \
    DC='ldc' \
    LDFLAGS="-L=\"$LDFLAGS\"" \
    libdir='lib/' \
    shared-{gtkd,gtkdgl,sv,gstreamer,vte,peas}
}

package() {
    cd ${srcdir}/GtkD-${pkgver}

    make \
    prefix='/usr' \
    libdir='lib/' \
    DESTDIR="${pkgdir}/" \
    install-{shared,headers}-{gtkd,gtkdgl,gtkdsv,gstreamer,vte,peas}
}
